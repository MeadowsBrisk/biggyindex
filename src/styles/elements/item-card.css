/* ItemCard-specific styles. Prefer Tailwind @apply where possible (Tailwind v4). */

.item-card{
	@apply contain-paint transition-colors relative rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-[#0f1725]
	overflow-hidden w-full hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-[#141d30] hover:shadow-sm;
	opacity: 0;
	transform: translate3d(0, 14px, 0);
	transition-property: opacity, transform, box-shadow, border-color, background-color;
	transition-duration: 220ms, 260ms, 150ms, 150ms, 150ms;
	transition-timing-function: ease-out, ease-out, ease-out, ease-out, ease-out;
	transition-delay: 0ms, 0ms, 0ms, 0ms, 0ms;
}
.item-card[data-entered="true"]{
	opacity: 1;
	transform: translate3d(0, 0, 0);
}
.item-card[data-animated="true"]{
	will-change: auto;
}
/* Stagger based on position in grid - matches ItemList column breakpoints */
/* 2 columns (tablet) */
@media (min-width: 640px) and (max-width: 1023px) {
	.item-card:nth-child(2n+1) { transition-delay: 0ms, 0ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(2n+2) { transition-delay: 50ms, 50ms, 0ms, 0ms, 0ms; }
}
/* 3 columns (small desktop) */
@media (min-width: 1024px) and (max-width: 1439px) {
	.item-card:nth-child(3n+1) { transition-delay: 0ms, 0ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(3n+2) { transition-delay: 50ms, 50ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(3n+3) { transition-delay: 100ms, 100ms, 0ms, 0ms, 0ms; }
}
/* 4 columns (medium desktop) */
@media (min-width: 1440px) and (max-width: 1919px) {
	.item-card:nth-child(4n+1) { transition-delay: 0ms, 0ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(4n+2) { transition-delay: 50ms, 50ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(4n+3) { transition-delay: 100ms, 100ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(4n+4) { transition-delay: 150ms, 150ms, 0ms, 0ms, 0ms; }
}
/* 5 columns (ultrawide) */
@media (min-width: 1920px) and (max-width: 2559px) {
	.item-card:nth-child(5n+1) { transition-delay: 0ms, 0ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(5n+2) { transition-delay: 50ms, 50ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(5n+3) { transition-delay: 100ms, 100ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(5n+4) { transition-delay: 150ms, 150ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(5n+5) { transition-delay: 200ms, 200ms, 0ms, 0ms, 0ms; }
}
/* 6 columns (superwide) */
@media (min-width: 2560px) {
	.item-card:nth-child(6n+1) { transition-delay: 0ms, 0ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(6n+2) { transition-delay: 50ms, 50ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(6n+3) { transition-delay: 100ms, 100ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(6n+4) { transition-delay: 150ms, 150ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(6n+5) { transition-delay: 200ms, 200ms, 0ms, 0ms, 0ms; }
	.item-card:nth-child(6n+6) { transition-delay: 250ms, 250ms, 0ms, 0ms, 0ms; }
}
@media (prefers-reduced-motion: reduce){
	.item-card{
		opacity: 1;
		transform: none;
		transition: none;
		will-change: auto;
	}
}
.card-title {
	@apply text-left w-full font-semibold text-base line-clamp-1 focus:outline-none
	focus-visible:ring-2 ring-offset-2 ring-offset-white dark:ring-offset-gray-900 ring-blue-500
	text-gray-900 dark:text-gray-100 
	border-b border-b-[#ddd] dark:border-b-[#333] pb-[4px] transition-colors
	hover:border-b-[#aaa];
}
.card-image {
	@apply w-full h-full object-cover transform-gpu transition-transform duration-900 ease-out group-hover/image:scale-[1.06] group-hover:scale-[1.04] cursor-zoom-in
}
.card-description {
    @apply mt-1 text-left w-full text-sm text-gray-700 dark:text-gray-300 line-clamp-5 leading-[1.4]
	focus:outline-none focus-visible:ring-2 ring-offset-2 ring-offset-white dark:ring-offset-gray-900 ring-blue-500 rounded-sm text-[0.8em] mb-[10px]; 
}

.variant-pill {
	@apply inline-flex items-center rounded-full px-[5px] py-0.5 text-[9px] bg-gray-100 dark:bg-gray-800
	text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700;
}

.show-prices-button { 
	@apply text-[10px] font-medium px-2.5 py-1 rounded-full
	text-gray-700 dark:text-gray-300 bg-white/90 dark:bg-gray-800/85 cursor-pointer
	hover:bg-white dark:hover:bg-gray-700;
	display: inline-flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 0.125rem;
	min-width: auto;
	position: relative;
	z-index: 50;
	opacity: 0;
	transition: opacity 200ms ease-out, background-color 150ms ease-out;
}

.group:hover .show-prices-button,
.show-prices-button--active {
	opacity: 1;
}

.show-prices-button--active {
	@apply bg-blue-50/90 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200;
}

.show-prices-button__icon {
	@apply text-[9px] leading-none transition-transform duration-200 ease-out;
}

.show-prices-button--active .show-prices-button__icon {
	transform: rotate(180deg);
}


.item-card__pricing-overlay {
	position: absolute;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 35;
	display: flex;
	flex-direction: column;
	max-height: 60%;
	background: linear-gradient(180deg, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.96) 100%);
	color: #0f1725;
	transform: translateY(100%);
	opacity: 0;
	pointer-events: none;
	transition: transform 320ms cubic-bezier(0.22, 0.81, 0.36, 1), opacity 220ms ease-out;
	padding: 0;
	backdrop-filter: blur(12px);
	border-radius: 8px 8px 0 0;
	box-shadow: 0 -4px 12px rgba(0,0,0,0.08);
}
.dark .item-card__pricing-overlay {
	background: linear-gradient(180deg, rgba(15,23,37,0.97) 0%, rgba(15,23,37,0.95) 100%);
	color: #f8fafc;
	box-shadow: 0 -4px 12px rgba(0,0,0,0.24);
}
.item-card__pricing-overlay--open {
	transform: translateY(0%);
	opacity: 1;
	pointer-events: auto;
}
.item-card__pricing-overlay--static {
	transition: none !important;
}
.item-card__pricing-inner {
	@apply flex flex-col h-full;
	padding: 0.75rem 1rem 4.3rem;
}
.item-card__pricing-header {
	@apply flex items-center justify-between gap-2 pb-2 border-b border-gray-200 dark:border-gray-700;
}
.item-card__pricing-title {
	@apply text-xs font-semibold text-gray-800 dark:text-gray-200;
}
.item-card__pricing-close {
	@apply inline-flex items-center gap-1 rounded-full border border-gray-300 dark:border-gray-600 px-2 py-0.5 text-[10px] font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus-visible:ring-2 ring-offset-1 ring-offset-white dark:ring-offset-gray-900 ring-blue-400 transition-colors;
}
.item-card__pricing-scroll {
	@apply mt-2 flex-1 overflow-y-auto rounded-md border border-gray-200 dark:border-gray-700 bg-gray-50/95 dark:bg-gray-900/60 p-2;
	max-height: 200px;
}
.item-card__pricing-scroll ul {
	@apply space-y-1.5 text-xs;
}
.item-card__pricing-scroll li {
	@apply flex items-center justify-between gap-2;
}
.item-card__pricing-scroll li span:first-child {
	@apply text-gray-900 dark:text-gray-100;
}
.item-card__pricing-scroll li span:last-child {
	@apply text-gray-700 dark:text-gray-300 font-medium;
}
.item-card__pricing-meta {
	@apply mt-2 text-[10px] text-gray-500 dark:text-gray-400;
}

@media (prefers-reduced-motion: reduce){
	.item-card__pricing-overlay{
		transition: none;
		transform: translateY(0);
		opacity: 1;
	}
}


/* Hover-reveal for ItemCard controls: staggered on desktop, always visible on touch */
@media (hover: hover) and (pointer: fine) {
	.card-controls > * {
		/* Use utilities for common parts; keep visibility+transition for precise behavior */
		@apply opacity-0; /* remove translate to prevent vertical jump on hover-out */
		visibility: hidden;
		/* Animate opacity; keep visibility delayed so it hides after fade completes */
		transition: opacity 200ms ease-out, box-shadow 200ms ease-out, visibility 0ms linear 200ms;
	}
	/* Always show controls marked as always-show (e.g., favourited star) */
	.card-controls > *.always-show {
		@apply opacity-100;
		visibility: visible;
	}
	.group:hover .card-controls > *,
	.group:focus-within .card-controls > * {
		@apply opacity-100;
		visibility: visible;
	}
	/* Staggered delays */
	.group:hover .card-controls > *:nth-child(1),
	.group:focus-within .card-controls > *:nth-child(1) { transition-delay: 40ms; }
	.group:hover .card-controls > *:nth-child(2),
	.group:focus-within .card-controls > *:nth-child(2) { transition-delay: 80ms; }
}



